var M=Object.defineProperty;var D=(o,t,n)=>t in o?M(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n;var $=(o,t,n)=>(D(o,typeof t!="symbol"?t+"":t,n),n);import{d as z,o as u,c as d,h as S,i as K,j as g,r as V,a as w,F as v,k as b,n as T,w as N,t as x,l as B,g as j}from"./index-ySh8VXTW.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const G=["aria-checked"],L=z({name:"ThemeBtn",__name:"ThemeBtn",setup(o){let t="dark";function n(){t=t==="light"?"dark":"light"}return(l,e)=>(u(),d("div",{class:"theme-toggle__btn","aria-checked":S(t)==="light",onClick:n},null,8,G))}}),O=E(L,[["__scopeId","data-v-69970a20"]]),q=(o,t)=>Math.floor(o/3)*3+Math.floor(t/3),F=o=>o>0?2**(9-o):0,A=o=>"0".repeat(9-o.length)+o,m=(o,t)=>o|F(t),P=(o,t)=>o&511-F(t),y=(o,t)=>"".concat(o,"-").concat(t);let Z=class{constructor(t){$(this,"info",{});$(this,"question");this.question=t,this.setTips(this.getNumberExist())}getNumberExist(){let t=new Array(9).fill(0),n=new Array(9).fill(0),l=new Array(9).fill(0),e=0;for(;e<9;){let s=0;for(;s<9;){if(this.question[e][s]>0){const a=q(e,s);t[e]=m(t[e],this.question[e][s]),n[s]=m(n[s],this.question[e][s]),l[a]=m(l[a],this.question[e][s])}s++}e++}return{rows:t,cols:n,zones:l}}setTips({rows:t,cols:n,zones:l}){let e=0;for(;e<9;){let s=0;for(;s<9;){let a=q(e,s);const _=!!this.question[e][s];let r="";_||(r=(t[e]|n[s]|l[a]).toString(2),r=A(r)),this.info[y(e,s)]={x:e,y:s,z:a,val:this.question[e][s],readonly:_,options:r},s++}e++}}updateTip(t,n,l){const e=this.info[y(t,n)];if(!e||typeof e=="object"&&Object.keys(e).length===0||!e.val&&!l)return;this.question[t][n]=l;let s=0;for(;s<9;){let a=0;for(;a<9;){let _=q(s,a),r=this.info[y(s,a)];if((s===t||a===n||_===e.z)&&!r.readonly){let k=m(P(parseInt(r.options,2),e.val),l).toString(2);r.options=A(k),console.log("修改".concat(s,"-").concat(a,"的选项为：").concat(k,"。旧值：").concat(e.x,"-").concat(e.y,"-").concat(e.val,"当前值为：").concat(l))}a++}s++}e.val=l}};const H={class:"grid"},J=["aria-checked","onClick"],Q={class:"keyboard"},R=["onClick"],U=z({name:"Sudoku2",__name:"Sudoku2",setup(o){const t=[[0,0,0,0,3,0,6,8,0],[2,0,0,0,5,0,0,0,0],[0,0,0,4,0,0,0,1,3],[0,0,0,2,7,0,0,3,1],[5,0,0,9,0,0,0,0,0],[3,7,0,0,0,0,9,0,0],[0,9,8,5,0,0,0,0,0],[1,0,2,0,0,0,4,6,0],[0,0,0,0,0,0,0,0,0]],n=K(new Z(t)),l=g(()=>n.info);let e=V({x:-1,y:-1,z:-1,val:0,readonly:!1,options:""});const s=g(()=>e.value.options.split("").map((c,f)=>({readonly:c==="1",val:f+1}))),a=g(()=>e.value.options);function _(c,f){c||n.updateTip(e.value.x,e.value.y,f)}function r(c){c.readonly||(e.value=c)}function k(c,f){let i=l.value[y(c,f)];return i.x===e.value.x||i.y===e.value.y||i.z===e.value.z}return(c,f)=>(u(),d(v,null,[w("div",H,[(u(!0),d(v,null,b(n.question,(i,h)=>(u(),d("div",{class:"row",key:"row-".concat(h)},[(u(!0),d(v,null,b(i,(C,p)=>(u(),d("div",{class:T(["cell",{"is-readonly":l.value["".concat(h,"-").concat(p)].readonly,"cell--focus":k(h,p)}]),key:"cell-".concat(h,"-").concat(p),"aria-checked":S(e).x===h&&S(e).y===p,onClick:X=>r(l.value["".concat(h,"-").concat(p)])},[N(w("div",null,x(C),513),[[B,C]])],10,J))),128))]))),128))]),N(w("div",Q,[(u(!0),d(v,null,b(s.value,i=>(u(),d("div",{class:T(["keyboard__btn",{"keyboard__btn--disabled":i.readonly}]),key:"key-".concat(i.val),onClick:h=>_(i.readonly,i.val)},x(i.val),11,R))),128))],512),[[B,a.value]])],64))}}),W=E(U,[["__scopeId","data-v-d2ae1a77"]]),se=z({__name:"SudokuGame",setup(o){return(t,n)=>(u(),d(v,null,[j(O),j(W)],64))}});export{se as default};
