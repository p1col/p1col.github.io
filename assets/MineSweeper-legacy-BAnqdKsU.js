System.register(["./index-legacy-cpijgSbG.js"],(function(e,n){"use strict";var i,o,l,t,r,a,c,f,u,s,m,d,p;return{setters:[function(e){i=e.d,o=e.e,l=e.c,t=e.a,r=e.w,a=e.i,c=e.g,f=e.F,u=e.f,s=e.o,m=e.n,d=e.j,p=e.t}],execute:function(){var n=document.createElement("style");n.textContent=".color-1{color:#0301fa}.color-2{color:#077d0c}.color-3{color:#fb0500}.color-4{color:#060980}.color-5{color:#790000}.color-6{color:#2a8080}.color-7{color:#000}.color-8{color:gray}.mine-config{display:flex;flex-direction:row;flex-wrap:wrap;padding:5.333vw}.mine-config .mine-config__label{padding-left:2.667vw}.mine-config .mine-config__input{width:13.333vw}.mine-config .mine-config__btn{margin-top:2.667vw}.mine-map{position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center}.mine-map .mine-row{display:flex;flex-direction:row;border-bottom:1px solid #7f7f7f}.mine-map .mine-row:first-of-type{border-top:1px solid #7f7f7f}.mine-map .mine-cell{position:relative;display:flex;justify-content:center;align-items:center;width:5.333vw;height:5.333vw;background:#bebebe;border-right:1px solid #7f7f7f}.mine-map .mine-cell:first-of-type{border-left:1px solid #7f7f7f}.mine-map .mine-cell:after{content:\"\";position:absolute;top:0;right:0;bottom:0;left:0;background:#c2c0c2;border:.8vw solid;border-color:#fbfbfb #7f7f7f #7f7f7f #fbfbfb}.mine-map .mine-cell--open:after{visibility:hidden}.mine-map .mine-cell--flag:after{background:url(\"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%206%206'%20%3e%3cpath%20d='m%204%204,%20l%20-1%200,%20l%200%201,%20l%20-3%200,%20l%200%201,%20l%206%200,%20l%200%20-1,%20l%20-2%200%20z'%20stroke='none'%20fill='black'%20/%3e%3cpath%20d='m%204%200,%20l%20-1%200,%20l%20-3%202,%20l%203%202%20l%201%200%20z'%20stroke='none'%20fill='red'%20/%3e%3c/svg%3e\") center/80% no-repeat}.mine-map .mine-cell--explode:before{content:\"\";position:absolute;top:0;right:0;bottom:0;left:0;background:linear-gradient(45deg,transparent 49%,red 49%,red 51%,transparent 51%),linear-gradient(135deg,transparent 49%,red 49%,red 51%,transparent 51%)}.mine-map .is-mine{background:radial-gradient(#000 40%,#bebebe 42%,#bebebe)}\n",document.head.appendChild(n);var g={class:"mine-config"},v=t("label",{for:"row",class:"mine-config__label"},"行：",-1),b=t("label",{for:"col",class:"mine-config__label"},"列：",-1),x=t("label",{for:"count",class:"mine-config__label"},"雷数量：",-1),w={class:"mine-map"},y=["onClick","onContextmenu"];e("default",i({__name:"MineSweeper",setup:function(e){var n=o(!1),i=o({x:16,y:16,mines:10}),_=new Set,h=o([]),k=function(e){return Math.floor(Math.random()*e)},M=function(e){return e-1<0?e:e-1},C=function(e,n){return e+1===n?e:e+1};function F(e){if(!(e<=0)){var n=k(i.value.x),o=k(i.value.y);_.has("".concat(n,"-").concat(o))?F(e):(_.add("".concat(n,"-").concat(o)),F(e-1))}}function E(e,n,o){if(0===e&&0===n)return 0;for(var l=M(e),t=M(n),r=C(n,i.value.y),a=0;l<=e;){for(var c=t;l<e&&c<=r||c<n;)!o&&h.value[l][c].isMine&&a++,o&&!h.value[l][c].isMine&&h.value[l][c].mines++,c++;l++}return a}function O(){h.value&&(h.value.length=0,h.value=new Array(i.value.x)),_.size>0&&_.clear(),F(i.value.mines),function(){for(var e=0;e<i.value.x;e++)for(var n=0;n<i.value.y;n++){var o=_.has("".concat(e,"-").concat(n));h.value[e]||(h.value[e]=[]),h.value[e][n]={x:e,y:n,isMine:o,isFlag:!1,isOpen:!1,mines:E(e,n,o)}}}()}function j(e){e.isFlag||e.isOpen||n.value||(e.isOpen=!0,e.isMine&&(n.value=!0,e.isExplode=!0,h.value.forEach((function(e){return e.forEach((function(e){return e.isOpen=!0}))}))))}return O(),function(e,o){return s(),l(f,null,[t("div",g,[v,r(t("input",{id:"row",class:"mine-config__input",type:"number","onUpdate:modelValue":o[0]||(o[0]=function(e){return c(i).x=e})},null,512),[[a,c(i).x]]),b,r(t("input",{id:"col",class:"mine-config__input",type:"number","onUpdate:modelValue":o[1]||(o[1]=function(e){return c(i).y=e})},null,512),[[a,c(i).y]]),x,r(t("input",{id:"count",class:"mine-config__input",type:"number","onUpdate:modelValue":o[2]||(o[2]=function(e){return c(i).mines=e})},null,512),[[a,c(i).mines]]),t("button",{class:"mine-config__btn",onClick:O},"Play")]),t("div",w,[(s(!0),l(f,null,u(c(h),(function(e,i){return s(),l("div",{class:"mine-row",key:"row-".concat(i)},[(s(!0),l(f,null,u(e,(function(e,o){return s(),l("div",{class:m(["mine-cell",["color-".concat(e.mines),{"is-mine":e.isMine,"mine-cell--flag":e.isFlag,"mine-cell--open":e.isOpen,"mine-cell--explode":e.isExplode}]]),key:"cell-".concat(i,"-").concat(o),onClick:function(n){return j(e)},onContextmenu:d((function(i){return function(e){if(!n.value)return e.isFlag=!e.isFlag,!1}(e)}),["prevent"])},p(e.mines||""),43,y)})),128))])})),128))])],64)}}}))}}}));
