System.register(["./index-legacy-Bs5m8-Cb.js"],(function(n,e){"use strict";var i,t,l,o,a,c,u,r,f,s,m,d;return{setters:[function(n){i=n.d,t=n.e,l=n.c,o=n.a,a=n.w,c=n.i,u=n.g,r=n.F,f=n.f,s=n.o,m=n.n,d=n.t}],execute:function(){var e=document.createElement("style");e.textContent=".mine-config{display:flex;flex-direction:row;flex-wrap:wrap;padding:5.333vw}.mine-config .mine-config__label{padding-left:2.667vw}.mine-config .mine-config__input{width:13.333vw}.mine-config .mine-config__btn{margin-top:2.667vw}.mine-map{display:flex;justify-content:center;padding-right:.533vw}.mine-map .mine-cell{display:flex;justify-content:center;align-items:center;margin:.533vw 0 0 .533vw;width:5.333vw;height:5.333vw;border:1px solid}.mine-map .is-mine{background:#ffda9b}\n",document.head.appendChild(e);var v={class:"mine-config"},g=o("label",{for:"row",class:"mine-config__label"},"行：",-1),p=o("label",{for:"col",class:"mine-config__label"},"列：",-1),_=o("label",{for:"count",class:"mine-config__label"},"雷数量：",-1),w={class:"mine-map"},y=["onClick","onContextmenu"];n("default",i({__name:"MineSweeper",setup:function(n){var e=t({x:16,y:16,mines:10}),i=new Set,x=t([]),b=function(n){return Math.floor(Math.random()*n)},h=function(n){return n-1<0?n:n-1},C=function(n,e){return n+1===e?n:n+1};function M(n){if(!(n<=0)){var t=b(e.value.x),l=b(e.value.y);i.has("".concat(t,"-").concat(l))?M(n):(i.add("".concat(t,"-").concat(l)),M(n-1))}}function k(n,i,t){if(0===n&&0===i)return 0;for(var l=h(n),o=h(i),a=C(i,e.value.y),c=0;l<=n;){for(var u=o;l<n&&u<=a||u<i;)!t&&x.value[l][u].isMine&&c++,t&&!x.value[l][u].isMine&&x.value[l][u].mines++,u++;l++}return c}function j(){x.value&&(x.value.length=0,x.value=new Array(e.value.x)),i.size>0&&i.clear(),M(e.value.mines),function(){for(var n=0;n<e.value.x;n++)for(var t=0;t<e.value.y;t++){var l=i.has("".concat(n,"-").concat(t));x.value[n]||(x.value[n]=[]),x.value[n][t]={x:n,y:t,isMine:l,isFlag:!1,mines:k(n,t,l)}}}()}return j(),function(n,i){return s(),l(r,null,[o("div",v,[g,a(o("input",{id:"row",class:"mine-config__input","onUpdate:modelValue":i[0]||(i[0]=function(n){return u(e).x=n})},null,512),[[c,u(e).x]]),p,a(o("input",{id:"col",class:"mine-config__input","onUpdate:modelValue":i[1]||(i[1]=function(n){return u(e).y=n})},null,512),[[c,u(e).y]]),_,a(o("input",{id:"count",class:"mine-config__input","onUpdate:modelValue":i[2]||(i[2]=function(n){return u(e).mines=n})},null,512),[[c,u(e).mines]]),o("button",{class:"mine-config__btn",onClick:j},"Play")]),o("div",w,[(s(!0),l(r,null,f(u(x),(function(n,e){return s(),l("div",{key:"row-".concat(e)},[(s(!0),l(r,null,f(n,(function(n,i){return s(),l("div",{class:m(["mine-cell",{"is-mine":n.isMine}]),key:"cell-".concat(e,"-").concat(i),onClick:function(e){return function(n){console.log("点击",n)}(n)},onContextmenu:function(e){return function(n){console.log("右键：",n)}(n)}},d(n.mines||""),43,y)})),128))])})),128))])],64)}}}))}}}));
